<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  

<mapper namespace="lards.model.dto.PersonMapper">

  <resultMap id="PersonResult" type="lards.model.dto.Person">
    <constructor>
      <idArg column="id" javaType="java.lang.Long"/>
      <arg column="mainname" javaType="String"/>
      <arg column="surname" javaType="String"/>
      <arg column="phonenr" javaType="String"/>
    </constructor>
  </resultMap>

  <select id="getPerson" parameterType="String" resultMap="PersonResult">
    SELECT id, mainname, surname, phonenr FROM person WHERE ID = #{value}
  </select>

  <select id="getPersons" resultMap="PersonResult">
    SELECT id, mainname, surname, phonenr FROM person
  </select>

	<update id="updatePerson" parameterType="lards.model.dto.Person"> 
    UPDATE person SET
		mainname = #{mainname}, 
		surname = #{surname},
		phonenr = #{phonenr}
    WHERE id = #{id}
	</update>	

  <insert id="insertPerson" parameterType="lards.model.dto.Person">
	    INSERT INTO person (mainname, surname, phonenr) 
	    values (#{mainname},#{surname},#{phonenr})
  </insert>

	<delete id="deletePerson" parameterType="Long"> 
			DELETE FROM person WHERE id = #{value}
	</delete>

</mapper>
